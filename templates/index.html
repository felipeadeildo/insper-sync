{% extends 'base.html' %}

<!--  -->
{% block title %}Insper Sync - Sincronize seu calend√°rio do Insper
automaticamente{% endblock %}

<!--  -->
{% block content %}
<!-- Hero Section with Login -->
<div
  class="hero min-h-[80vh] bg-gradient-to-br from-primary/10 to-secondary/10"
>
  <div class="hero-content flex-col lg:flex-row-reverse gap-12">
    <!-- Login Card -->
    <div class="card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100">
      <div class="card-body">
        {% if user.is_authenticated %}
        <h2 class="card-title text-2xl text-center mb-6">
          <span class="text-success text-center">Bem-vindo de volta!</span>
        </h2>

        <div class="text-center space-y-6">
          <!-- Avatar usando Tailwind CSS puro -->
          <div class="flex justify-center">
            <div
              class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center shadow-lg"
            >
              <span class="text-2xl font-bold text-white"
                >{{ user.email.0|upper }}</span
              >
            </div>
          </div>

          <div class="space-y-2">
            <p class="font-semibold text-lg">{{ user.email }}</p>
            <div class="badge badge-success badge-outline">
              <i data-lucide="check-circle" class="w-4 h-4 mr-1"></i>
              Conta verificada
            </div>
          </div>

          <div class="alert alert-success">
            <i data-lucide="info" class="w-5 h-5"></i>
            <span>Sua conta est√° configurada e pronta para uso!</span>
          </div>

          <div class="space-y-3">
            <a href="{% url 'dashboard' %}" class="btn btn-primary w-full">
              <i data-lucide="layout-dashboard" class="w-5 h-5 mr-2"></i>
              Acessar Dashboard
            </a>

            <a
              href="{% url 'setup_credentials' %}"
              class="btn btn-outline w-full"
            >
              <i data-lucide="settings" class="w-5 h-5 mr-2"></i>
              Configura√ß√µes
            </a>
          </div>
        </div>
        {% else %}
        <h2 class="card-title text-2xl text-center mb-4">
          <span class="text-primary">Comece Agora</span>
        </h2>

        <form method="post" action="{% url 'verify_email' %}">
          {% csrf_token %}

          <div class="form-control">
            <label class="label">
              <span class="label-text font-semibold">Email do Insper</span>
            </label>
            <div class="relative">
              <input
                type="email"
                name="email"
                placeholder="seu.email@al.insper.edu.br"
                class="input input-bordered input-primary w-full pl-10"
                required
                pattern=".*@(al\.)?insper\.edu\.br$"
                title="Use apenas emails do Insper (@al.insper.edu.br ou @insper.edu.br)"
              />
              <i
                data-lucide="mail"
                class="w-5 h-5 absolute left-3 top-3 text-primary pointer-events-none z-10"
              ></i>
            </div>
            <label class="label">
              <span class="label-text-alt text-base-content/60">
                Apenas emails do Insper s√£o aceitos
              </span>
            </label>
          </div>

          <div class="form-control mt-6">
            <button type="submit" class="btn btn-primary">
              <i data-lucide="send" class="w-5 h-5 mr-2"></i>
              Enviar Token de Verifica√ß√£o
            </button>
          </div>
        </form>
        {% endif %}
      </div>
    </div>

    <!-- Hero Content -->
    <div class="text-center lg:text-left">
      <div class="text-6xl mb-4">üìÖ</div>
      <h1 class="text-5xl font-bold text-primary mb-6">Insper Sync</h1>
      <p class="text-xl mb-8 text-base-content/80 max-w-lg">
        Sincronize automaticamente seu calend√°rio acad√™mico do Insper com o
        Google Calendar
      </p>

      <!-- Features List -->
      <div class="space-y-3 mb-8">
        <div class="flex items-center gap-3">
          <i data-lucide="check-circle" class="w-5 h-5 text-success"></i>
          <span>Sincroniza√ß√£o autom√°tica</span>
        </div>
        <div class="flex items-center gap-3">
          <i data-lucide="shield-check" class="w-5 h-5 text-success"></i>
          <span>Credenciais seguras e criptografadas</span>
        </div>
        <div class="flex items-center gap-3">
          <i data-lucide="zap" class="w-5 h-5 text-success"></i>
          <span>Configura√ß√£o em menos de 5 minutos</span>
        </div>
        <div class="flex items-center gap-3">
          <i data-lucide="heart" class="w-5 h-5 text-success"></i>
          <span>100% gratuito para estudantes</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Como Funciona Section -->
<section id="sobre" class="py-16 bg-base-100">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center text-primary mb-12">
      Como Funciona?
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
      <!-- Step 1 -->
      <div class="text-center">
        <div
          class="w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4"
        >
          <span class="text-2xl text-primary-content font-bold">1</span>
        </div>
        <h3 class="text-lg font-bold mb-2">Verifique seu Email</h3>
        <p class="text-sm text-base-content/70">
          Digite seu email do Insper e confirme atrav√©s do token enviado
        </p>
      </div>

      <!-- Step 2 -->
      <div class="text-center">
        <div
          class="w-16 h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4"
        >
          <span class="text-2xl text-secondary-content font-bold">2</span>
        </div>
        <h3 class="text-lg font-bold mb-2">Configure Credenciais</h3>
        <p class="text-sm text-base-content/70">
          Adicione sua senha do Portal Acad√™mico de forma segura
        </p>
      </div>

      <!-- Step 3 -->
      <div class="text-center">
        <div
          class="w-16 h-16 bg-accent rounded-full flex items-center justify-center mx-auto mb-4"
        >
          <span class="text-2xl text-accent-content font-bold">3</span>
        </div>
        <h3 class="text-lg font-bold mb-2">Conecte ao Google</h3>
        <p class="text-sm text-base-content/70">
          Autorize a sincroniza√ß√£o com seu Google Calendar
        </p>
      </div>
    </div>
  </div>
</section>

<!-- FAQ Section -->
<section class="py-16 bg-base-200">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center text-primary mb-12">
      Perguntas Frequentes
    </h2>

    <div class="max-w-2xl mx-auto space-y-4">
      <!-- FAQ 1 -->
      <div class="collapse collapse-plus bg-base-100">
        <input type="radio" name="faq-accordion" checked="checked" />
        <div class="collapse-title text-lg font-medium">
          √â seguro fornecer minha senha do Insper?
        </div>
        <div class="collapse-content">
          <p class="text-base-content/70 mb-4">
            Sim, suas credenciais s√£o totalmente seguras. Armazenamos apenas tr√™s informa√ß√µes essenciais:
          </p>
          <ul class="list-disc list-inside text-base-content/70 space-y-2">
            <li><strong>Email institucional:</strong> usado para verifica√ß√£o e identifica√ß√£o</li>
            <li><strong>Nome de usu√°rio:</strong> extra√≠do do Portal Acad√™mico para personaliza√ß√£o</li>
            <li><strong>Senha criptografada:</strong> protegida com a chave p√∫blica oficial do Insper</li>
          </ul>
          <div class="alert alert-info mt-4">
            <i data-lucide="shield" class="w-4 h-4"></i>
            <span class="text-sm">A criptografia com chave p√∫blica garante que nem nossa equipe consegue acessar sua senha real.</span>
          </div>
        </div>
      </div>

      <!-- FAQ 2 -->
      <div class="collapse collapse-plus bg-base-100">
        <input type="radio" name="faq-accordion" />
        <div class="collapse-title text-lg font-medium">
          Com que frequ√™ncia os eventos s√£o sincronizados?
        </div>
        <div class="collapse-content">
          <p class="text-base-content/70">
            A sincroniza√ß√£o acontece automaticamente a cada 6 horas, garantindo
            que seus eventos estejam sempre atualizados.
          </p>
        </div>
      </div>

      <!-- FAQ 3 -->
      <div class="collapse collapse-plus bg-base-100">
        <input type="radio" name="faq-accordion" />
        <div class="collapse-title text-lg font-medium">
          Posso cancelar a sincroniza√ß√£o?
        </div>
        <div class="collapse-content">
          <p class="text-base-content/70">
            Claro! Voc√™ pode cancelar atrav√©s do painel de controle e seus dados
            ser√£o removidos completamente de nossos servidores.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Privacidade Section -->
<section id="privacidade" class="py-16 bg-base-100">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center text-primary mb-12">
      Sua Privacidade em Primeiro Lugar
    </h2>

    <div class="max-w-4xl mx-auto">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <!-- Dados Coletados -->
        <div class="card bg-primary/5 border border-primary/20">
          <div class="card-body">
            <h3 class="card-title text-primary mb-4">
              <i data-lucide="database" class="w-5 h-5"></i>
              Dados Armazenados
            </h3>
            <ul class="space-y-2 text-sm">
              <li class="flex items-center gap-2">
                <i data-lucide="mail" class="w-4 h-4 text-primary"></i>
                Email institucional
              </li>
              <li class="flex items-center gap-2">
                <i data-lucide="user" class="w-4 h-4 text-primary"></i>
                Nome de usu√°rio
              </li>
              <li class="flex items-center gap-2">
                <i data-lucide="key" class="w-4 h-4 text-primary"></i>
                Senha criptografada
              </li>
            </ul>
          </div>
        </div>

        <!-- Seguran√ßa -->
        <div class="card bg-success/5 border border-success/20">
          <div class="card-body">
            <h3 class="card-title text-success mb-4">
              <i data-lucide="shield-check" class="w-5 h-5"></i>
              Prote√ß√£o de Dados
            </h3>
            <ul class="space-y-2 text-sm">
              <li class="flex items-center gap-2">
                <i data-lucide="lock" class="w-4 h-4 text-success"></i>
                Criptografia RSA
              </li>
              <li class="flex items-center gap-2">
                <i data-lucide="server" class="w-4 h-4 text-success"></i>
                Servidores seguros
              </li>
              <li class="flex items-center gap-2">
                <i data-lucide="eye-off" class="w-4 h-4 text-success"></i>
                Acesso zero √† senha
              </li>
            </ul>
          </div>
        </div>

        <!-- Controle -->
        <div class="card bg-accent/5 border border-accent/20">
          <div class="card-body">
            <h3 class="card-title text-accent mb-4">
              <i data-lucide="settings" class="w-5 h-5"></i>
              Seu Controle
            </h3>
            <ul class="space-y-2 text-sm">
              <li class="flex items-center gap-2">
                <i data-lucide="trash-2" class="w-4 h-4 text-accent"></i>
                Deletar conta
              </li>
              <li class="flex items-center gap-2">
                <i data-lucide="pause" class="w-4 h-4 text-accent"></i>
                Pausar sincroniza√ß√£o
              </li>
              <li class="flex items-center gap-2">
                <i data-lucide="download" class="w-4 h-4 text-accent"></i>
                Exportar dados
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="text-center">
        <div class="alert alert-info inline-flex">
          <i data-lucide="info" class="w-5 h-5"></i>
          <span>
            N√£o compartilhamos seus dados com terceiros. Seu calend√°rio permanece privado e sob seu controle.
          </span>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
